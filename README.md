# Miri Chat Widget Pro - גרסה 2.1.0 

## 🎉 מה חדש בגרסה 2.1.0

### ✅ תיקוני באגים קריטיים
- ✔️ תיקון Ajax handlers - כל הפונקציות עובדות כעת
- ✔️ תיקון ניהול Session ID - סנכרון מלא עם השרת
- ✔️ שיפור טיפול בתגובות מורכבות מהבוט
- ✔️ תיקון בעיות RTL והצגה בעברית
- ✔️ הוספת Nonces לאבטחת מידע
- ✔️ תיקון העלאת לוגו - עובד 100%
- ✔️ טיפול מתקדם בשגיאות והתחברות מחדש

### 🚀 שיפורים והוספות
- ⭐ אינדיקטור הקלדה (typing indicator)
- ⭐ התראות קוליות למסרים חדשים
- ⭐ שמירת היסטוריה משופרת
- ⭐ בדיקת חיבור Webhook מהממשק
- ⭐ API חיצוני לשליטה בצ'אט
- ⭐ אפקטים ויזואליים משופרים
- ⭐ תמיכה מלאה ב-RTL
- ⭐ אופטימיזציה לביצועים

---

## 📦 התקנה

### דרישות מקדימות
- WordPress 5.0 ומעלה
- PHP 7.4 ומעלה
- Webhook URL פעיל של Miri AI

### שלבי התקנה

1. **העלאת הפלאגין**
   ```bash
   # העתק את כל הקבצים לתיקיית הפלאגינים
   wp-content/plugins/miri-chat-widget-pro/
   ```

2. **הפעלת הפלאגין**
   - היכנס לממשק הניהול של WordPress
   - עבור ל: תוספים (Plugins) → תוספים מותקנים
   - מצא "Miri Chat Widget Pro"
   - לחץ על "הפעל" (Activate)

3. **הגדרה ראשונית**
   - עבור ל: Miri Chat Pro (בתפריט הצד)
   - הזן את כתובת ה-Webhook URL
   - התאם את ההגדרות לפי הצורך
   - שמור שינויים

---

## ⚙️ הגדרות מפורטות

### 1️⃣ הגדרות בסיסיות

**סטטוס הצ'אט**
- הפעל/כבה את הצ'אט באתר
- שימושי לתחזוקה או בדיקות

**כתובת Webhook**
```
https://bot.intermedia.co.il/webhook/YOUR-WEBHOOK-ID/chat
```
- החלף את `YOUR-WEBHOOK-ID` במזהה שלך
- לחץ על "בדוק חיבור" לוודא שהכתובת תקינה

**תצוגה במובייל**
- בחר אם להציג את הצ'אט גם במכשירים ניידים
- מומלץ להשאיר מופעל לשירות מקסימלי

---

### 2️⃣ עיצוב וצבעים

**צבעים**
- **צבע ראשי**: הצבע הדומיננטי בגרדיאנט (ברירת מחדל: #7C3AED)
- **צבע משני**: הצבע השני בגרדיאנט (ברירת מחדל: #06B6D4)
- **צבע רקע**: רקע חלון הצ'אט (ברירת מחדל: #0B1220)

**לוגו מותאם אישית**
- העלה לוגו משלך (מומלץ: 100×100 פיקסלים)
- תומך ב-PNG, JPG, SVG
- אפשר להסתיר לחלוטין את הלוגו/סמל

**דוגמת קוד CSS להתאמה נוספת:**
```css
/* התאמת עיצוב נוסף */
.miri-card {
    border-radius: 24px !important;
}

.miri-bubble {
    font-size: 15px !important;
}
```

---

### 3️⃣ טקסטים ותכנים

**כותרות**
- כותרת ראשית: "שלום! אני מירי 🤖"
- כותרת משנה: "זמינה עכשיו"

**הודעות פתיחה**
- הודעה 1: "היי! 👋"
- הודעה 2: "כאן <b>מירי</b> — איך אפשר לעזור היום?"
  - אפשר להשתמש ב-HTML פשוט: `<b>`, `<i>`, `<u>`

**שדות טקסט**
- טקסט שדה הקלט: "כתוב/כתבי הודעה..."
- טקסט כפתור שליחה: "שלח"

---

### 4️⃣ מיקום וגודל

**מיקום הכפתור**
- למטה מימין (ברירת מחדל)
- למטה משמאל
- למעלה מימין
- למעלה משמאל

**גודלים**
- **גודל כפתור**: 48-80 פיקסלים (ברירת מחדל: 64px)
- **רוחב חלון**: 320-500 פיקסלים (ברירת מחדל: 420px)
- **גובה חלון**: 400-700 פיקסלים (ברירת מחדל: 600px)

---

### 5️⃣ הגדרות מתקדמות

**הצג בעמודים**
- כל העמודים
- כל העמודים חוץ מ... (הזן IDs)
- דף הבית בלבד

**דוגמה להחרגת עמודים:**
```
5,12,34,89
```
(מזהי עמודים מופרדים בפסיקים)

**הגדרות נוספות**
- **התראות קוליות**: הפעל צליל למסרים חדשים
- **אינדיקטור הקלדה**: הצג "מירי מקלידה..."
- **מספר מסרים מקסימלי בהיסטוריה**: 50 (ברירת מחדל)

---

## 🔧 שימוש ב-API החיצוני

הפלאגין חושף API JavaScript לשליטה בצ'אט מקוד חיצוני:

```javascript
// פתיחת חלון הצ'אט
window.MiriChat.open();

// סגירת חלון הצ'אט
window.MiriChat.close();

// שליחת מסר באופן פרוגרמטי
window.MiriChat.sendMessage('שלום, יש לי שאלה');

// ניקוי היסטוריית שיחה
window.MiriChat.clearHistory();
```

**דוגמאות שימוש:**

```html
<!-- כפתור שפותח את הצ'אט עם שאלה מוכנה -->
<button onclick="window.MiriChat.open(); window.MiriChat.sendMessage('רוצה מידע על מחירים')">
  שאל על מחירים
</button>

<!-- פתיחה אוטומטית אחרי 10 שניות -->
<script>
setTimeout(function() {
  window.MiriChat.open();
}, 10000);
</script>
```

---

## 🐛 פתרון בעיות נפוצות

### הצ'אט לא מופיע
1. ✅ וודא שהפלאגין מופעל
2. ✅ בדוק שהאופציה "סטטוס הצ'אט" מופעלת
3. ✅ נקה את זיכרון המטמון (Cache)
4. ✅ בדוק קונפליקטים עם פלאגינים אחרים

### הודעות לא נשלחות
1. ✅ בדוק את כתובת ה-Webhook (לחץ "בדוק חיבור")
2. ✅ וודא שהשרת של Miri AI פעיל
3. ✅ בדוק לוג שגיאות: Developer Tools → Console
4. ✅ נסה למחוק cookies וטען מחדש

### בעיות תצוגה
1. ✅ נקה זיכרון מטמון של הדפדפן (Ctrl+F5)
2. ✅ בדוק קונפליקטים עם CSS של התבנית
3. ✅ נסה להשבית פלאגיני מטמון זמנית
4. ✅ בדוק שאין JavaScript errors בקונסול

### ההיסטוריה לא נשמרת
1. ✅ וודא ש-localStorage פעיל בדפדפן
2. ✅ בדוק שהדפדפן לא במצב פרטי (Incognito)
3. ✅ נקה localStorage ידנית:
```javascript
localStorage.removeItem('miri_chat_history_v2');
```

---

## 🔒 אבטחה

הפלאגין כולל אמצעי אבטחה מתקדמים:

- ✅ WordPress Nonces לכל פעולות Ajax
- ✅ Sanitization של כל קלטי משתמש
- ✅ Escaping של תוכן HTML
- ✅ הגנה מפני XSS
- ✅ הגנה מפני CSRF
- ✅ הגנה מפני SQL Injection
- ✅ בדיקת הרשאות משתמש

---

## 📊 ביצועים

**אופטימיזציות:**
- ⚡ טעינה אסינכרונית של סקריפטים
- ⚡ דחיסת קוד JavaScript
- ⚡ שימוש ב-localStorage לזיכרון מטמון
- ⚡ טעינה lazy של אפקטים ויזואליים
- ⚡ גודל כולל קטן (~50KB)

---

## 🌐 תאימות דפדפנים

תומך בכל הדפדפנים המודרניים:

| דפדפן | גרסה מינימלית |
|-------|----------------|
| Chrome | 60+ |
| Firefox | 55+ |
| Safari | 12+ |
| Edge | 79+ |
| Opera | 47+ |

---

## 📱 תמיכה במובייל

הפלאגין מותאם באופן מלא למובייל:
- ✅ עיצוב רספונסיבי
- ✅ מקלדת וירטואלית ידידותית
- ✅ מגע (touch) אופטימלי
- ✅ גודל כפתור מתאים
- ✅ חלון מותאם למסך קטן

---

## 🔄 עדכונים עתידיים

מתוכננים לגרסאות הבאות:
- 📎 העלאת קבצים
- 🎤 הודעות קוליות
- 🌍 תרגום לשפות נוספות
- 📸 שיתוף מסך/תמונות
- 📈 דוחות סטטיסטיקה
- 🔔 התראות push
- 🤝 אינטגרציות נוספות

---

## 💡 טיפים לשימוש מיטבי

1. **התאם את הטקסטים לקהל היעד שלך**
2. **השתמש בצבעים שמתאימים לעיצוב האתר**
3. **בדוק את הצ'אט ממכשירים שונים**
4. **עדכן את הכתובת webhook אם משנים שרת**
5. **עקוב אחר תגובות המשתמשים ושפר**

---

## 📞 תמיכה

**צריך עזרה?**
- 📧 Email: contact@intermedia.co.il
- 🌐 אתר: https://intermedia.co.il
- 📱 WhatsApp: [מספר התמיכה]

**שעות תמיכה:**
- ראשון - חמישי: 9:00-18:00
- זמן תגובה ממוצע: עד 24 שעות

---

## 📄 רישיון

זהו מוצר מסחרי של Intermedia.
הרישיון כולל:
- ✅ רישיון לדומיין אחד
- ✅ 12 חודשי עדכונים
- ✅ תמיכה טכנית

לפרטים נוספים: [LICENSE.txt](LICENSE.txt)

---

## 🙏 תודות

תודה על השימוש ב-Miri Chat Widget Pro!
נשמח לשמוע את המשוב שלך ולעזור בכל שאלה.

**גרסה 2.1.0** - עודכן באוקטובר 2025
© 2025 Intermedia. All rights reserved.
